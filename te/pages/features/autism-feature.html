<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Autism-Friendly Features - AdaptX</title>
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap"
    />
    <link rel="stylesheet" href="../../styles/index.css" />
    <link rel="stylesheet" href="../../styles/features/autism-feature.css" />
  </head>
  <body>
    <header>
      <nav id="navbar">
        <div class="web-name">AdaptX</div>
        <button
          class="navbar-toggle"
          aria-label="Open navigation menu"
          aria-expanded="false"
          aria-controls="navbar-menu"
        >
          <span class="bar"></span>
          <span class="bar"></span>
          <span class="bar"></span>
        </button>
        <div id="navbar-menu">
          <a href="../../../index.html">Home</a>
          <a href="../about.html">About Us</a>
          <a href="../features.html">Accessibility Features</a>
          <a href="../guidelines.html">Guidelines</a>
          <a href="../contact.html">Contact Us</a>
        </div>
      </nav>
    </header>

    <main>
      <div class="autism-container">
        <h1>Autism-Friendly Features</h1>
        <p class="subtitle">
          Tools designed to support focus, structure, and sensory comfort
        </p>

        <div class="features-grid">
          <!-- Feature 1: Distraction-Free Mode -->
          <div class="feature-section">
            <h2>1. Distraction-Free Mode</h2>
            <div class="feature-icon">üßò</div>
            <div class="feature-content">
              <div class="distraction-controls">
                <div class="control-group">
                  <label class="switch">
                    <input
                      type="checkbox"
                      id="hide-animations"
                      onchange="toggleAnimations()"
                    />
                    <span class="slider"></span>
                  </label>
                  <span>Hide Animations</span>
                </div>
                <div class="control-group">
                  <label class="switch">
                    <input
                      type="checkbox"
                      id="hide-images"
                      onchange="toggleImages()"
                    />
                    <span class="slider"></span>
                  </label>
                  <span>Hide Non-Essential Images</span>
                </div>
                <div class="control-group">
                  <label class="switch">
                    <input
                      type="checkbox"
                      id="hide-ads"
                      onchange="toggleAds()"
                    />
                    <span class="slider"></span>
                  </label>
                  <span>Hide Advertisements</span>
                </div>
                <div class="control-group">
                  <label class="switch">
                    <input
                      type="checkbox"
                      id="minimal-mode"
                      onchange="toggleMinimalMode()"
                    />
                    <span class="slider"></span>
                  </label>
                  <span>Minimal Layout</span>
                </div>
              </div>
              <p class="feature-description">
                Hide non-essential elements and animations to create a focused,
                distraction-free environment. Perfect for reading, studying, or
                concentration tasks.
              </p>
              <button
                class="get-code-btn"
                onclick="showFeatureCode('distraction-free')"
              >
                üìã Get Code
              </button>
            </div>
          </div>

          <!-- Feature 2: Visual Schedules / Task Boards -->
          <div class="feature-section">
            <h2>2. Visual Schedules / Task Boards</h2>
            <div class="feature-icon">üìã</div>
            <div class="feature-content">
              <div class="task-board">
                <div class="task-input">
                  <input
                    type="text"
                    id="new-task"
                    placeholder="Add a new task..."
                  />
                  <button onclick="addTask()">Add Task</button>
                </div>
                <div class="task-categories">
                  <div class="category">
                    <h4>üìù To Do</h4>
                    <div
                      id="todo-list"
                      class="task-list"
                      ondrop="drop(event)"
                      ondragover="allowDrop(event)"
                    >
                      <!-- Tasks will be added here -->
                    </div>
                  </div>
                  <div class="category">
                    <h4>‚è≥ In Progress</h4>
                    <div
                      id="progress-list"
                      class="task-list"
                      ondrop="drop(event)"
                      ondragover="allowDrop(event)"
                    >
                      <!-- Tasks will be added here -->
                    </div>
                  </div>
                  <div class="category">
                    <h4>‚úÖ Completed</h4>
                    <div
                      id="completed-list"
                      class="task-list"
                      ondrop="drop(event)"
                      ondragover="allowDrop(event)"
                    >
                      <!-- Tasks will be added here -->
                    </div>
                  </div>
                </div>
                <div class="progress-bar">
                  <div class="progress-fill" id="progress-fill"></div>
                  <span id="progress-text">0% Complete</span>
                </div>
              </div>
              <p class="feature-description">
                Create visual task boards with drag-and-drop functionality,
                progress tracking, and clear visual indicators to help with task
                organization and completion.
              </p>
              <button
                class="get-code-btn"
                onclick="showFeatureCode('visual-schedules')"
              >
                üìã Get Code
              </button>
            </div>
          </div>

          <!-- Feature 3: Read Aloud Option -->
          <div class="feature-section">
            <h2>3. Read Aloud Option</h2>
            <div class="feature-icon">üîä</div>
            <div class="feature-content">
              <div class="read-aloud-controls">
                <button id="read-btn" onclick="toggleReadAloud()">
                  <span id="read-icon">üîä</span>
                  <span id="read-text">Start Reading</span>
                </button>
                <div class="read-options">
                  <label>
                    Reading Speed:
                    <select id="read-speed" onchange="changeReadSpeed()">
                      <option value="0.5">Slow</option>
                      <option value="1" selected>Normal</option>
                      <option value="1.5">Fast</option>
                      <option value="2">Very Fast</option>
                    </select>
                  </label>
                  <label>
                    Voice:
                    <select id="read-voice" onchange="changeReadVoice()">
                      <!-- Will be populated by JavaScript -->
                    </select>
                  </label>
                </div>
                <div class="text-selector">
                  <label for="read-text-select">Select text to read:</label>
                  <select id="read-text-select" onchange="selectTextToRead()">
                    <option value="demo">Demo Content</option>
                    <option value="instructions">Instructions</option>
                    <option value="custom">Custom Text</option>
                  </select>
                </div>
                <div
                  class="custom-text-input"
                  id="custom-text-input"
                  style="display: none"
                >
                  <label for="custom-text">Enter custom text:</label>
                  <textarea
                    id="custom-text"
                    placeholder="Type or paste text here..."
                  ></textarea>
                </div>
              </div>
              <p class="feature-description">
                Text-to-speech functionality to read instructions, content, or
                custom text aloud. Adjustable speed and voice options for
                optimal comprehension.
              </p>
              <button
                class="get-code-btn"
                onclick="showFeatureCode('read-aloud')"
              >
                üìã Get Code
              </button>
            </div>
          </div>
        </div>

        <!-- Demo Content -->
        <div class="demo-content" id="demo-content">
          <h3>Demo Content</h3>
          <p id="demo-text">
            This is sample content to demonstrate the autism-friendly features.
            The distraction-free mode will hide unnecessary elements, the visual
            task board helps with organization, and the read-aloud feature can
            read this content to you.
          </p>
          <p id="instructions-text">
            Instructions: Use the controls above to test each feature. The
            distraction-free mode removes visual clutter, the task board helps
            organize activities, and the read-aloud feature provides audio
            support for better understanding.
          </p>
        </div>

        <!-- Code Modal -->
        <div id="codeModal" class="code-modal">
          <div class="code-modal-content">
            <div class="code-modal-header">
              <h3 id="modalTitle">Feature Code</h3>
              <span class="close-modal" onclick="closeCodeModal()"
                >&times;</span
              >
            </div>
            <div class="code-modal-body">
              <div class="code-tabs">
                <button class="tab-btn active" onclick="switchTab('html')">
                  HTML
                </button>
                <button class="tab-btn" onclick="switchTab('css')">CSS</button>
                <button class="tab-btn" onclick="switchTab('js')">
                  JavaScript
                </button>
              </div>
              <div class="code-content">
                <pre><code id="codeDisplay"></code></pre>
              </div>
              <button class="copy-btn" onclick="copyCode()">
                üìã Copy Code
              </button>
            </div>
          </div>
        </div>
      </div>
    </main>

    <footer class="footer">
      <div class="container">
        <div class="footer-content">
          <div class="footer-section about">
            <h2>About Us</h2>
            <p>
              We are dedicated to providing the best services to our customers,
              ensuring quality and satisfaction.
            </p>
          </div>
          <div class="footer-section links">
            <h2>Quick Links</h2>
            <ul>
              <li><a href="home.html">Home</a></li>
              <li><a href="about.html">About Us</a></li>
              <li><a href="features.html">Accessibility</a></li>
              <li><a href="contact.html">Contact</a></li>
              <li><a href="guidelines.html">Guidelines</a></li>
              <li><a href="#">FAQ</a></li>
            </ul>
          </div>
          <div class="footer-section contact">
            <h2>Contact Us</h2>
            <p>Email: support@company.com</p>
            <p>Phone: +123 456 7890</p>
            <p>Address: 123 Street, City, Country</p>
          </div>
          <div class="footer-section social">
            <h2>Follow Us</h2>
            <div class="social-icons">
              <a href="#" aria-label="Facebook"
                ><i class="fab fa-facebook"></i
              ></a>
              <a href="#" aria-label="Twitter"
                ><i class="fab fa-twitter"></i
              ></a>
              <a href="#" aria-label="Instagram"
                ><i class="fab fa-instagram"></i
              ></a>
              <a href="#" aria-label="LinkedIn"
                ><i class="fab fa-linkedin"></i
              ></a>
              <a href="#" aria-label="YouTube"
                ><i class="fab fa-youtube"></i
              ></a>
            </div>
          </div>
        </div>
        <div class="footer-bottom">
          <p>
            &copy; 2024 AdaptX | Designed with
            <span aria-label="love">‚ù§Ô∏è</span> | <a href="#">Privacy Policy</a> |
            <a href="#">Terms of Service</a>
          </p>
        </div>
      </div>
    </footer>

    <script>
      let speechSynthesis = window.speechSynthesis;
      let currentUtterance = null;
      let isReading = false;
      let taskCounter = 0;

      // Distraction-Free Mode
      function toggleAnimations() {
        const enabled = document.getElementById("hide-animations").checked;
        if (enabled) {
          document.body.classList.add("no-animations");
        } else {
          document.body.classList.remove("no-animations");
        }
      }

      function toggleImages() {
        const enabled = document.getElementById("hide-images").checked;
        if (enabled) {
          document.body.classList.add("hide-images");
        } else {
          document.body.classList.remove("hide-images");
        }
      }

      function toggleAds() {
        const enabled = document.getElementById("hide-ads").checked;
        if (enabled) {
          document.body.classList.add("hide-ads");
        } else {
          document.body.classList.remove("hide-ads");
        }
      }

      function toggleMinimalMode() {
        const enabled = document.getElementById("minimal-mode").checked;
        if (enabled) {
          document.body.classList.add("minimal-mode");
        } else {
          document.body.classList.remove("minimal-mode");
        }
      }

      // Visual Schedules / Task Boards
      function addTask() {
        const input = document.getElementById("new-task");
        const taskText = input.value.trim();

        if (taskText) {
          const task = createTaskElement(taskText);
          document.getElementById("todo-list").appendChild(task);
          input.value = "";
          updateProgress();
        }
      }

      function createTaskElement(text) {
        const task = document.createElement("div");
        task.className = "task-item";
        task.draggable = true;
        task.id = "task-" + taskCounter++;

        task.innerHTML = `
          <span class="task-text">${text}</span>
          <button class="delete-task" onclick="deleteTask(this)">√ó</button>
        `;

        task.addEventListener("dragstart", drag);
        return task;
      }

      function deleteTask(button) {
        button.parentElement.remove();
        updateProgress();
      }

      function allowDrop(ev) {
        ev.preventDefault();
      }

      function drag(ev) {
        ev.dataTransfer.setData("text", ev.target.id);
      }

      function drop(ev) {
        ev.preventDefault();
        const data = ev.dataTransfer.getData("text");
        const draggedElement = document.getElementById(data);
        const dropZone = ev.target.closest(".task-list");

        if (dropZone && draggedElement) {
          dropZone.appendChild(draggedElement);
          updateProgress();
        }
      }

      function updateProgress() {
        const total = document.querySelectorAll(".task-item").length;
        const completed =
          document.getElementById("completed-list").children.length;
        const percentage =
          total > 0 ? Math.round((completed / total) * 100) : 0;

        document.getElementById("progress-fill").style.width = percentage + "%";
        document.getElementById("progress-text").textContent =
          percentage + "% Complete";
      }

      // Read Aloud Option
      function populateVoices() {
        const voiceSelect = document.getElementById("read-voice");
        const voices = speechSynthesis.getVoices();

        voiceSelect.innerHTML = "";
        voices.forEach((voice, index) => {
          const option = document.createElement("option");
          option.value = index;
          option.textContent = `${voice.name} (${voice.lang})`;
          voiceSelect.appendChild(option);
        });
      }

      function toggleReadAloud() {
        if (isReading) {
          stopReading();
        } else {
          startReading();
        }
      }

      function startReading() {
        const textSelect = document.getElementById("read-text-select");
        const selectedText = textSelect.value;
        let textToRead = "";

        switch (selectedText) {
          case "demo":
            textToRead = document.getElementById("demo-text").textContent;
            break;
          case "instructions":
            textToRead =
              document.getElementById("instructions-text").textContent;
            break;
          case "custom":
            textToRead = document.getElementById("custom-text").value;
            break;
        }

        if (!textToRead.trim()) {
          alert("Please select or enter text to read.");
          return;
        }

        const utterance = new SpeechSynthesisUtterance(textToRead);
        const voiceSelect = document.getElementById("read-voice");
        const speedSelect = document.getElementById("read-speed");

        if (voiceSelect.value) {
          const voices = speechSynthesis.getVoices();
          utterance.voice = voices[voiceSelect.value];
        }

        utterance.rate = parseFloat(speedSelect.value);
        utterance.pitch = 1;
        utterance.volume = 1;

        utterance.onend = function () {
          stopReading();
        };

        utterance.onerror = function () {
          stopReading();
        };

        currentUtterance = utterance;
        speechSynthesis.speak(utterance);
        isReading = true;

        updateReadButton();
      }

      function stopReading() {
        if (currentUtterance) {
          speechSynthesis.cancel();
          currentUtterance = null;
        }
        isReading = false;
        updateReadButton();
      }

      function updateReadButton() {
        const button = document.getElementById("read-btn");
        const icon = document.getElementById("read-icon");
        const text = document.getElementById("read-text");

        if (isReading) {
          icon.textContent = "‚è∏Ô∏è";
          text.textContent = "Stop Reading";
          button.classList.add("reading");
        } else {
          icon.textContent = "üîä";
          text.textContent = "Start Reading";
          button.classList.remove("reading");
        }
      }

      function changeReadSpeed() {
        if (currentUtterance) {
          const speed = document.getElementById("read-speed").value;
          currentUtterance.rate = parseFloat(speed);
        }
      }

      function changeReadVoice() {
        if (currentUtterance) {
          const voiceSelect = document.getElementById("read-voice");
          const voices = speechSynthesis.getVoices();
          currentUtterance.voice = voices[voiceSelect.value];
        }
      }

      function selectTextToRead() {
        const textSelect = document.getElementById("read-text-select");
        const customInput = document.getElementById("custom-text-input");

        if (textSelect.value === "custom") {
          customInput.style.display = "block";
        } else {
          customInput.style.display = "none";
        }
      }

      // Code Modal Functions
      let currentFeature = "";
      let currentTab = "html";

      function showFeatureCode(feature) {
        currentFeature = feature;
        currentTab = "html";
        updateModalContent();
        document.getElementById("codeModal").style.display = "block";
      }

      function closeCodeModal() {
        document.getElementById("codeModal").style.display = "none";
      }

      function switchTab(tab) {
        currentTab = tab;
        updateModalContent();

        document
          .querySelectorAll(".tab-btn")
          .forEach((btn) => btn.classList.remove("active"));
        event.target.classList.add("active");
      }

      function updateModalContent() {
        const modalTitle = document.getElementById("modalTitle");
        const codeDisplay = document.getElementById("codeDisplay");

        let title = "";
        let code = "";

        switch (currentFeature) {
          case "distraction-free":
            title = "Distraction-Free Mode Code";
            code = getDistractionFreeCode();
            break;
          case "visual-schedules":
            title = "Visual Schedules / Task Boards Code";
            code = getVisualSchedulesCode();
            break;
          case "read-aloud":
            title = "Read Aloud Option Code";
            code = getReadAloudCode();
            break;
        }

        modalTitle.textContent = title;
        codeDisplay.textContent = code;
      }

      function getDistractionFreeCode() {
        const codes = {
          html: `<!-- Distraction-Free Mode HTML -->
<div class="distraction-controls">
  <div class="control-group">
    <label class="switch">
      <input type="checkbox" id="hide-animations" onchange="toggleAnimations()" />
      <span class="slider"></span>
    </label>
    <span>Hide Animations</span>
  </div>
  <div class="control-group">
    <label class="switch">
      <input type="checkbox" id="hide-images" onchange="toggleImages()" />
      <span class="slider"></span>
    </label>
    <span>Hide Non-Essential Images</span>
  </div>
  <div class="control-group">
    <label class="switch">
      <input type="checkbox" id="hide-ads" onchange="toggleAds()" />
      <span class="slider"></span>
    </label>
    <span>Hide Advertisements</span>
  </div>
  <div class="control-group">
    <label class="switch">
      <input type="checkbox" id="minimal-mode" onchange="toggleMinimalMode()" />
      <span class="slider"></span>
    </label>
    <span>Minimal Layout</span>
  </div>
</div>`,
          css: `/* Distraction-Free Mode CSS */
.distraction-controls {
  display: flex;
  flex-direction: column;
  gap: 15px;
  margin: 20px 0;
}

.control-group {
  display: flex;
  align-items: center;
  gap: 15px;
  padding: 12px;
  background: rgba(255, 255, 255, 0.05);
  border-radius: 8px;
  border: 1px solid rgba(255, 255, 255, 0.1);
}

.control-group span {
  font-size: 1rem;
  color: #fff;
  font-weight: 500;
}

.switch {
  position: relative;
  display: inline-block;
  width: 60px;
  height: 30px;
}

.switch input {
  opacity: 0;
  width: 0;
  height: 0;
}

.slider {
  position: absolute;
  cursor: pointer;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-color: #ccc;
  transition: 0.4s;
  border-radius: 30px;
}

.slider:before {
  position: absolute;
  content: "";
  height: 22px;
  width: 22px;
  left: 4px;
  bottom: 4px;
  background-color: white;
  transition: 0.4s;
  border-radius: 50%;
}

input:checked + .slider {
  background-color: #4caf50;
}

input:checked + .slider:before {
  transform: translateX(30px);
}

/* Distraction-free mode styles */
.no-animations * {
  animation: none !important;
  transition: none !important;
}

.hide-images img:not(.essential) {
  display: none !important;
}

.hide-ads [class*="ad"], .hide-ads [id*="ad"] {
  display: none !important;
}

.minimal-mode .feature-section {
  max-width: 800px;
  margin: 0 auto;
}

.minimal-mode .demo-content {
  max-width: 600px;
  margin: 0 auto;
}`,
          js: `// Distraction-Free Mode JavaScript
function toggleAnimations() {
  const enabled = document.getElementById("hide-animations").checked;
  if (enabled) {
    document.body.classList.add("no-animations");
  } else {
    document.body.classList.remove("no-animations");
  }
}

function toggleImages() {
  const enabled = document.getElementById("hide-images").checked;
  if (enabled) {
    document.body.classList.add("hide-images");
  } else {
    document.body.classList.remove("hide-images");
  }
}

function toggleAds() {
  const enabled = document.getElementById("hide-ads").checked;
  if (enabled) {
    document.body.classList.add("hide-ads");
  } else {
    document.body.classList.remove("hide-ads");
  }
}

function toggleMinimalMode() {
  const enabled = document.getElementById("minimal-mode").checked;
  if (enabled) {
    document.body.classList.add("minimal-mode");
  } else {
    document.body.classList.remove("minimal-mode");
  }
}`,
        };
        return codes[currentTab];
      }

      function getVisualSchedulesCode() {
        const codes = {
          html: `<!-- Visual Schedules / Task Boards HTML -->
<div class="task-board">
  <div class="task-input">
    <input type="text" id="new-task" placeholder="Add a new task..." />
    <button onclick="addTask()">Add Task</button>
  </div>
  <div class="task-categories">
    <div class="category">
      <h4>üìù To Do</h4>
      <div id="todo-list" class="task-list" ondrop="drop(event)" ondragover="allowDrop(event)">
        <!-- Tasks will be added here -->
      </div>
    </div>
    <div class="category">
      <h4>‚è≥ In Progress</h4>
      <div id="progress-list" class="task-list" ondrop="drop(event)" ondragover="allowDrop(event)">
        <!-- Tasks will be added here -->
      </div>
    </div>
    <div class="category">
      <h4>‚úÖ Completed</h4>
      <div id="completed-list" class="task-list" ondrop="drop(event)" ondragover="allowDrop(event)">
        <!-- Tasks will be added here -->
      </div>
    </div>
  </div>
  <div class="progress-bar">
    <div class="progress-fill" id="progress-fill"></div>
    <span id="progress-text">0% Complete</span>
  </div>
</div>`,
          css: `/* Visual Schedules / Task Boards CSS */
.task-board {
  background: rgba(255, 255, 255, 0.05);
  border-radius: 12px;
  padding: 20px;
  border: 1px solid rgba(255, 255, 255, 0.1);
}

.task-input {
  display: flex;
  gap: 10px;
  margin-bottom: 20px;
}

.task-input input {
  flex: 1;
  padding: 12px;
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 8px;
  background: rgba(255, 255, 255, 0.1);
  color: #fff;
  font-size: 1rem;
}

.task-input button {
  padding: 12px 20px;
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  color: white;
  border: none;
  border-radius: 8px;
  cursor: pointer;
  font-weight: 600;
  transition: all 0.3s ease;
}

.task-input button:hover {
  transform: translateY(-2px);
  box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
}

.task-categories {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: 20px;
  margin-bottom: 20px;
}

.category {
  background: rgba(255, 255, 255, 0.03);
  border-radius: 8px;
  padding: 15px;
  border: 1px solid rgba(255, 255, 255, 0.1);
}

.category h4 {
  margin: 0 0 15px 0;
  color: #fff;
  font-size: 1.1rem;
  text-align: center;
}

.task-list {
  min-height: 100px;
  padding: 10px;
  background: rgba(255, 255, 255, 0.02);
  border-radius: 6px;
  border: 2px dashed rgba(255, 255, 255, 0.1);
}

.task-item {
  background: rgba(255, 255, 255, 0.1);
  padding: 10px;
  margin: 8px 0;
  border-radius: 6px;
  cursor: move;
  display: flex;
  justify-content: space-between;
  align-items: center;
  border: 1px solid rgba(255, 255, 255, 0.1);
  transition: all 0.3s ease;
}

.task-item:hover {
  background: rgba(255, 255, 255, 0.15);
  transform: translateY(-2px);
}

.task-text {
  color: #fff;
  font-size: 0.9rem;
}

.delete-task {
  background: #e74c3c;
  color: white;
  border: none;
  border-radius: 50%;
  width: 24px;
  height: 24px;
  cursor: pointer;
  font-size: 14px;
  display: flex;
  align-items: center;
  justify-content: center;
}

.progress-bar {
  background: rgba(255, 255, 255, 0.1);
  border-radius: 10px;
  height: 20px;
  position: relative;
  overflow: hidden;
}

.progress-fill {
  background: linear-gradient(90deg, #4caf50, #45a049);
  height: 100%;
  width: 0%;
  transition: width 0.3s ease;
}

#progress-text {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  color: #fff;
  font-size: 0.8rem;
  font-weight: 600;
}`,
          js: `// Visual Schedules / Task Boards JavaScript
let taskCounter = 0;

function addTask() {
  const input = document.getElementById("new-task");
  const taskText = input.value.trim();
  
  if (taskText) {
    const task = createTaskElement(taskText);
    document.getElementById("todo-list").appendChild(task);
    input.value = "";
    updateProgress();
  }
}

function createTaskElement(text) {
  const task = document.createElement("div");
  task.className = "task-item";
  task.draggable = true;
  task.id = "task-" + taskCounter++;
  
  task.innerHTML = \`
    <span class="task-text">\${text}</span>
    <button class="delete-task" onclick="deleteTask(this)">√ó</button>
  \`;
  
  task.addEventListener("dragstart", drag);
  return task;
}

function deleteTask(button) {
  button.parentElement.remove();
  updateProgress();
}

function allowDrop(ev) {
  ev.preventDefault();
}

function drag(ev) {
  ev.dataTransfer.setData("text", ev.target.id);
}

function drop(ev) {
  ev.preventDefault();
  const data = ev.dataTransfer.getData("text");
  const draggedElement = document.getElementById(data);
  const dropZone = ev.target.closest(".task-list");
  
  if (dropZone && draggedElement) {
    dropZone.appendChild(draggedElement);
    updateProgress();
  }
}

function updateProgress() {
  const total = document.querySelectorAll(".task-item").length;
  const completed = document.getElementById("completed-list").children.length;
  const percentage = total > 0 ? Math.round((completed / total) * 100) : 0;
  
  document.getElementById("progress-fill").style.width = percentage + "%";
  document.getElementById("progress-text").textContent = percentage + "% Complete";
}`,
        };
        return codes[currentTab];
      }

      function getReadAloudCode() {
        const codes = {
          html: `<!-- Read Aloud Option HTML -->
<div class="read-aloud-controls">
  <button id="read-btn" onclick="toggleReadAloud()">
    <span id="read-icon">üîä</span>
    <span id="read-text">Start Reading</span>
  </button>
  <div class="read-options">
    <label>
      Reading Speed:
      <select id="read-speed" onchange="changeReadSpeed()">
        <option value="0.5">Slow</option>
        <option value="1" selected>Normal</option>
        <option value="1.5">Fast</option>
        <option value="2">Very Fast</option>
      </select>
    </label>
    <label>
      Voice:
      <select id="read-voice" onchange="changeReadVoice()">
        <!-- Will be populated by JavaScript -->
      </select>
    </label>
  </div>
  <div class="text-selector">
    <label for="read-text-select">Select text to read:</label>
    <select id="read-text-select" onchange="selectTextToRead()">
      <option value="demo">Demo Content</option>
      <option value="instructions">Instructions</option>
      <option value="custom">Custom Text</option>
    </select>
  </div>
  <div class="custom-text-input" id="custom-text-input" style="display: none;">
    <label for="custom-text">Enter custom text:</label>
    <textarea id="custom-text" placeholder="Type or paste text here..."></textarea>
  </div>
</div>`,
          css: `/* Read Aloud Option CSS */
.read-aloud-controls {
  text-align: center;
  margin: 20px 0;
}

#read-btn {
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  color: white;
  border: none;
  padding: 15px 30px;
  border-radius: 25px;
  cursor: pointer;
  font-size: 1.1rem;
  font-weight: 600;
  transition: all 0.3s ease;
  box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
  display: flex;
  align-items: center;
  gap: 10px;
  margin: 0 auto 20px auto;
}

#read-btn:hover {
  transform: translateY(-2px);
  box-shadow: 0 6px 20px rgba(0, 0, 0, 0.3);
}

#read-btn.reading {
  background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);
}

.read-options {
  display: flex;
  flex-direction: column;
  gap: 15px;
  margin: 20px 0;
}

.read-options label {
  display: flex;
  justify-content: space-between;
  align-items: center;
  font-size: 1rem;
  color: #fff;
  padding: 10px;
  background: rgba(255, 255, 255, 0.05);
  border-radius: 8px;
}

.read-options select {
  padding: 8px 12px;
  border-radius: 6px;
  border: 1px solid rgba(255, 255, 255, 0.2);
  background: rgba(255, 255, 255, 0.1);
  color: #fff;
  font-size: 0.9rem;
}

.text-selector {
  margin: 20px 0;
  padding: 15px;
  background: rgba(255, 255, 255, 0.05);
  border-radius: 8px;
  border: 1px solid rgba(255, 255, 255, 0.1);
}

.text-selector label {
  display: block;
  margin-bottom: 10px;
  color: #fff;
  font-weight: 600;
}

.text-selector select {
  width: 100%;
  padding: 10px;
  border-radius: 6px;
  border: 1px solid rgba(255, 255, 255, 0.2);
  background: rgba(255, 255, 255, 0.1);
  color: #fff;
  font-size: 0.9rem;
}

.custom-text-input {
  margin-top: 15px;
}

.custom-text-input label {
  display: block;
  margin-bottom: 10px;
  color: #fff;
  font-weight: 600;
}

.custom-text-input textarea {
  width: 100%;
  min-height: 100px;
  padding: 12px;
  border-radius: 8px;
  border: 1px solid rgba(255, 255, 255, 0.2);
  background: rgba(255, 255, 255, 0.1);
  color: #fff;
  font-size: 0.9rem;
  resize: vertical;
  font-family: inherit;
}`,
          js: `// Read Aloud Option JavaScript
let speechSynthesis = window.speechSynthesis;
let currentUtterance = null;
let isReading = false;

function populateVoices() {
  const voiceSelect = document.getElementById("read-voice");
  const voices = speechSynthesis.getVoices();

  voiceSelect.innerHTML = "";
  voices.forEach((voice, index) => {
    const option = document.createElement("option");
    option.value = index;
    option.textContent = \`\${voice.name} (\${voice.lang})\`;
    voiceSelect.appendChild(option);
  });
}

function toggleReadAloud() {
  if (isReading) {
    stopReading();
  } else {
    startReading();
  }
}

function startReading() {
  const textSelect = document.getElementById("read-text-select");
  const selectedText = textSelect.value;
  let textToRead = "";

  switch(selectedText) {
    case "demo":
      textToRead = document.getElementById("demo-text").textContent;
      break;
    case "instructions":
      textToRead = document.getElementById("instructions-text").textContent;
      break;
    case "custom":
      textToRead = document.getElementById("custom-text").value;
      break;
  }

  if (!textToRead.trim()) {
    alert("Please select or enter text to read.");
    return;
  }

  const utterance = new SpeechSynthesisUtterance(textToRead);
  const voiceSelect = document.getElementById("read-voice");
  const speedSelect = document.getElementById("read-speed");

  if (voiceSelect.value) {
    const voices = speechSynthesis.getVoices();
    utterance.voice = voices[voiceSelect.value];
  }

  utterance.rate = parseFloat(speedSelect.value);
  utterance.pitch = 1;
  utterance.volume = 1;

  utterance.onend = function () {
    stopReading();
  };

  utterance.onerror = function () {
    stopReading();
  };

  currentUtterance = utterance;
  speechSynthesis.speak(utterance);
  isReading = true;

  updateReadButton();
}

function stopReading() {
  if (currentUtterance) {
    speechSynthesis.cancel();
    currentUtterance = null;
  }
  isReading = false;
  updateReadButton();
}

function updateReadButton() {
  const button = document.getElementById("read-btn");
  const icon = document.getElementById("read-icon");
  const text = document.getElementById("read-text");

  if (isReading) {
    icon.textContent = "‚è∏Ô∏è";
    text.textContent = "Stop Reading";
    button.classList.add("reading");
  } else {
    icon.textContent = "üîä";
    text.textContent = "Start Reading";
    button.classList.remove("reading");
  }
}

function changeReadSpeed() {
  if (currentUtterance) {
    const speed = document.getElementById("read-speed").value;
    currentUtterance.rate = parseFloat(speed);
  }
}

function changeReadVoice() {
  if (currentUtterance) {
    const voiceSelect = document.getElementById("read-voice");
    const voices = speechSynthesis.getVoices();
    currentUtterance.voice = voices[voiceSelect.value];
  }
}

function selectTextToRead() {
  const textSelect = document.getElementById("read-text-select");
  const customInput = document.getElementById("custom-text-input");
  
  if (textSelect.value === "custom") {
    customInput.style.display = "block";
  } else {
    customInput.style.display = "none";
  }
}

// Initialize text-to-speech
document.addEventListener("DOMContentLoaded", function () {
  populateVoices();
  speechSynthesis.onvoiceschanged = populateVoices;
});`,
        };
        return codes[currentTab];
      }

      function copyCode() {
        const codeText = document.getElementById("codeDisplay").textContent;
        navigator.clipboard
          .writeText(codeText)
          .then(() => {
            const copyBtn = document.querySelector(".copy-btn");
            const originalText = copyBtn.textContent;
            copyBtn.textContent = "‚úÖ Copied!";
            setTimeout(() => {
              copyBtn.textContent = originalText;
            }, 2000);
          })
          .catch((err) => {
            console.error("Failed to copy code: ", err);
            alert("Failed to copy code. Please select and copy manually.");
          });
      }

      // Close modal when clicking outside
      window.onclick = function (event) {
        const modal = document.getElementById("codeModal");
        if (event.target === modal) {
          closeCodeModal();
        }
      };

      // Initialize page
      document.addEventListener("DOMContentLoaded", function () {
        populateVoices();
        speechSynthesis.onvoiceschanged = populateVoices;
      });

      // Mobile menu toggle
      const navbarToggle = document.querySelector(".navbar-toggle");
      const navbarMenu = document.getElementById("navbar-menu");
      navbarToggle.addEventListener("click", function () {
        navbarMenu.classList.toggle("active");
        this.setAttribute(
          "aria-expanded",
          navbarMenu.classList.contains("active")
        );
      });
      // Active link highlighting
      const links = navbarMenu.querySelectorAll("a");
      const current = window.location.pathname.split("/").pop();
      links.forEach((link) => {
        if (link.getAttribute("href") === current) {
          link.classList.add("active");
          link.setAttribute("aria-current", "page");
        }
      });
    </script>
  </body>
</html>
